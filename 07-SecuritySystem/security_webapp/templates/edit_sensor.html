{% extends "layout.html" %}

{% block body %}

  {% if sensor %}
    <h2>Sensor {{ sensor.id }}</h2>
    <form class="block-form" action="{{ url_for('update_sensor', sensor_id=sensor.id) }}", method="POST">
  {% else %}
    <h2>New Sensor</h2>
    <form class="block-form" action="{{ url_for('add_sensor') }}", method="POST">
  {% endif %}

    <span>Name: <input type="text" name="sensor_name" value="{{ sensor.name }}" /></span>
    <span>Description: <input type="text" name="sensor_description" value="{{ sensor.description }}" /></span>
    <span>Location: <input type="text" name="sensor_location" value="{{ sensor.location }}" /></span>
    <span>MQTT topic: <input type="text" name="sensor_mqtt_topic" value="{{ sensor.mqtt_topic }}" /></span>
    <span>Triggered text: <input type="text" name="sensor_trigger_text" value="{{ sensor.trigger_text }}" /></span>

    <p>
      {% if sensor %}
        <input type="submit" value="Update" />
        <a href="{{ url_for('delete_sensor', sensor_id=sensor.id) }}">Delete</a>
      {% else %}
        <input type="submit" value="Add" />
      {% endif %}
    </p>

  </form>

{% endblock %}
